[gd_scene load_steps=12 format=2]

[ext_resource path="res://ground_material.tres" type="Material" id=1]
[ext_resource path="res://CameraAnchor.gd" type="Script" id=2]
[ext_resource path="res://PlayerControl.gd" type="Script" id=3]
[ext_resource path="res://piggie_material.tres" type="Material" id=4]
[ext_resource path="res://cubepig.obj" type="ArrayMesh" id=5]
[ext_resource path="res://JumpStomp.tres" type="Animation" id=8]

[sub_resource type="SphereShape" id=84]

[sub_resource type="PlaneMesh" id=86]

[sub_resource type="BoxShape" id=87]

[sub_resource type="CubeMesh" id=88]

[sub_resource type="BoxShape" id=89]

[node name="PlayScene" type="Spatial"]

[node name="Player" type="RigidBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.451022, 0 )
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
linear_damp = 0.588
script = ExtResource( 3 )

[node name="CameraAnchor" type="Spatial" parent="Player"]
script = ExtResource( 2 )

[node name="CameraRotateTimer" type="Timer" parent="Player/CameraAnchor"]
wait_time = 0.2
one_shot = true
autostart = true

[node name="Camera" type="Camera" parent="Player/CameraAnchor"]
transform = Transform( 1, 0, 0, 0, 0.903926, 0.427689, 0, -0.427689, 0.903926, 0, 3, 5 )
current = true

[node name="MeshAnchor" type="Spatial" parent="Player"]
transform = Transform( 0.33, 0, 0, 0, 0.33, 0, 0, 0, 0.33, 0, 0, 0 )

[node name="MeshAnimationAnchor" type="Spatial" parent="Player/MeshAnchor"]

[node name="MeshInstance" type="MeshInstance" parent="Player/MeshAnchor/MeshAnimationAnchor"]
transform = Transform( -8.56817e-08, 0, 2, 0, 2, 0, -2, 0, -8.56817e-08, 0.980695, -1.10348, -0.856853 )
mesh = ExtResource( 5 )
skeleton = NodePath("../../..")
material/0 = ExtResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Player"]
transform = Transform( 0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, 0, 0, 0 )
shape = SubResource( 84 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="Player"]
anims/JumpStomp = ExtResource( 8 )

[node name="Ground" type="RigidBody" parent="."]
mode = 1

[node name="MeshInstance" type="MeshInstance" parent="Ground"]
transform = Transform( 10, 0, 0, 0, 1, 0, 0, 0, 10, 0, 0, 0 )
mesh = SubResource( 86 )
material/0 = ExtResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="Ground"]
transform = Transform( 10, 0, 0, 0, 0.1, 0, 0, 0, 10, 0, 0, 0 )
shape = SubResource( 87 )

[node name="Obstacle" type="RigidBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.917452, -5.79672 )
mode = 1

[node name="MeshInstance" type="MeshInstance" parent="Obstacle"]
transform = Transform( 0.5, 0, 0, 0, 1, 0, 0, 0, 0.5, 0, 0, 0 )
mesh = SubResource( 88 )
material/0 = ExtResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="Obstacle"]
transform = Transform( 0.5, 0, 0, 0, 1, 0, 0, 0, 0.5, 0, 0, 0 )
shape = SubResource( 89 )

[node name="Obstacle2" type="RigidBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.80771, 0.917452, 3.46386 )
mode = 1

[node name="MeshInstance" type="MeshInstance" parent="Obstacle2"]
transform = Transform( 0.5, 0, 0, 0, 1, 0, 0, 0, 0.5, 0, 0, 0 )
mesh = SubResource( 88 )
material/0 = ExtResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="Obstacle2"]
transform = Transform( 0.5, 0, 0, 0, 1, 0, 0, 0, 0.5, 0, 0, 0 )
shape = SubResource( 89 )

[node name="OmniLight" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.71827, -15.2719 )
light_color = Color( 0.992157, 0.976471, 1, 1 )
light_indirect_energy = 16.0
shadow_enabled = true
omni_range = 28.9709

[node name="Dig Points" type="Node" parent="."]

[connection signal="animation_finished" from="Player/AnimationPlayer" to="Player" method="_on_animation_finished"]
[connection signal="animation_started" from="Player/AnimationPlayer" to="Player" method="_on_animation_started"]
